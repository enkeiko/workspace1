# 90. 구현 로드맵

> Implementation Roadmap - Phase별 개발 계획

## 1. 전체 일정 개요

```
┌─────────────────────────────────────────────────────────────────┐
│                    42Ment ERP 2026 구현 로드맵                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Phase 1: 핵심 누락 기능 (2주)                                  │
│  ═══════════════════════════════════════════════════════════   │
│  • 거래처/구매발주 관리 (원가 추적)                             │
│  • 손익분석 자동계산                                            │
│  • 입금 관리 및 미수금                                          │
│  • 대시보드 핵심 위젯                                           │
│                                                                 │
│  Phase 2: 품질 개선 (1주)                                       │
│  ═══════════════════════════════════════════════════════════   │
│  • 고객별 특별 단가                                             │
│  • PDF 견적서/계산서                                            │
│  • 변경 이력 (AuditLog)                                         │
│  • UI/UX 개선                                                   │
│                                                                 │
│  Phase 3: 확장 기능 (2주, 선택)                                 │
│  ═══════════════════════════════════════════════════════════   │
│  • 고객 셀프서비스 주문 포털                                    │
│  • 알림 시스템 (카카오, 이메일)                                 │
│  • 인증/권한 관리                                               │
│  • PostgreSQL 마이그레이션                                      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 2. Phase 1: 핵심 누락 기능 (2주)

### 2.1 목표
**"이번 달 얼마 벌었는가?"에 답할 수 있는 시스템 구축**

### 2.2 작업 항목

| # | 작업 | 예상 시간 | 우선순위 | 관련 문서 |
|---|------|----------|---------|----------|
| 1.1 | Prisma 스키마 확장 | 2시간 | P0 | 02-data-model.md |
| 1.2 | Supplier CRUD | 4시간 | P0 | 10-supplier-module.md |
| 1.3 | SupplierProduct CRUD | 2시간 | P0 | 10-supplier-module.md |
| 1.4 | PurchaseOrder CRUD | 6시간 | P0 | 11-purchase-order-module.md |
| 1.5 | 주문→발주 생성 기능 | 3시간 | P0 | 11-purchase-order-module.md |
| 1.6 | ProfitAnalysis 자동계산 | 4시간 | P0 | 12-profit-analysis-module.md |
| 1.7 | Payment CRUD | 4시간 | P1 | 13-payment-module.md |
| 1.8 | 입금-청구서 매칭 | 3시간 | P1 | 13-payment-module.md |
| 1.9 | 미수금 현황 API | 2시간 | P1 | 13-payment-module.md |
| 1.10 | 대시보드 손익 위젯 | 4시간 | P1 | 15-dashboard-design.md |
| 1.11 | 대시보드 미수금 위젯 | 2시간 | P1 | 15-dashboard-design.md |
| | **합계** | **36시간 (약 5일)** | | |

### 2.3 일별 계획

```
Week 1:
─────────────────────────────────────────────────────────────────
Day 1: 스키마 확장 + Supplier CRUD
Day 2: SupplierProduct + PurchaseOrder API
Day 3: PurchaseOrder 페이지 + 주문→발주 기능
Day 4: ProfitAnalysis 로직 + API
Day 5: Payment CRUD + 매칭 로직

Week 2:
─────────────────────────────────────────────────────────────────
Day 6: Payment 페이지 + 미수금 현황
Day 7: 대시보드 손익 위젯
Day 8: 대시보드 미수금 위젯
Day 9: 통합 테스트 + 버그 수정
Day 10: Phase 1 완료 검토 + 문서화
```

### 2.4 완료 기준

- [ ] 거래처 등록/조회/수정/삭제 가능
- [ ] 주문에서 구매발주 생성 가능
- [ ] 주문별 손익(매출-비용) 자동 계산됨
- [ ] 입금 기록 및 청구서 매칭 가능
- [ ] 대시보드에서 이번 달 손익 확인 가능
- [ ] 미수금 현황 확인 가능

---

## 3. Phase 2: 품질 개선 (1주)

### 3.1 목표
**실무에서 바로 사용할 수 있는 완성도 확보**

### 3.2 작업 항목

| # | 작업 | 예상 시간 | 우선순위 | 관련 문서 |
|---|------|----------|---------|----------|
| 2.1 | CustomerProductPrice CRUD | 3시간 | P2 | 14-customer-pricing-module.md |
| 2.2 | 견적/주문 단가 자동 적용 | 2시간 | P2 | 14-customer-pricing-module.md |
| 2.3 | 한글 폰트 설정 | 1시간 | P2 | 16-pdf-generation.md |
| 2.4 | 견적서 PDF 템플릿 | 4시간 | P2 | 16-pdf-generation.md |
| 2.5 | 세금계산서 PDF 템플릿 | 3시간 | P2 | 16-pdf-generation.md |
| 2.6 | AuditLog 모델 및 서비스 | 3시간 | P2 | 17-audit-log-module.md |
| 2.7 | 주요 엔티티 AuditLog 적용 | 2시간 | P2 | 17-audit-log-module.md |
| 2.8 | UI/UX 개선 및 버그 수정 | 4시간 | P2 | - |
| | **합계** | **22시간 (약 3일)** | | |

### 3.3 일별 계획

```
Week 3:
─────────────────────────────────────────────────────────────────
Day 11: CustomerProductPrice + 단가 자동 적용
Day 12: PDF 폰트 설정 + 견적서 템플릿
Day 13: 세금계산서 템플릿 + AuditLog
Day 14: UI/UX 개선 + 통합 테스트
Day 15: Phase 2 완료 검토 + 문서화
```

### 3.4 완료 기준

- [ ] VIP 고객 특별 단가 설정 및 자동 적용
- [ ] 견적서 PDF 다운로드 가능
- [ ] 세금계산서 PDF 다운로드 가능
- [ ] 주요 데이터 변경 이력 조회 가능

---

## 4. Phase 3: 확장 기능 (2주, 선택)

### 4.1 목표
**운영 효율화 및 확장성 확보**

### 4.2 작업 항목

| # | 작업 | 예상 시간 | 우선순위 | 관련 문서 |
|---|------|----------|---------|----------|
| 3.1 | 공개 주문 포털 API | 3시간 | P3 | 03-public-order-portal.md |
| 3.2 | 공개 주문 포털 UI | 6시간 | P3 | 03-public-order-portal.md |
| 3.3 | 카카오 알림톡 연동 | 4시간 | P3 | - |
| 3.4 | 이메일 발송 | 3시간 | P3 | - |
| 3.5 | NextAuth.js 설정 | 3시간 | P3 | - |
| 3.6 | 로그인/회원가입 UI | 4시간 | P3 | - |
| 3.7 | 권한 관리 (RBAC) | 4시간 | P3 | - |
| 3.8 | PostgreSQL 마이그레이션 | 4시간 | P3 | 91-migration-guide.md |
| 3.9 | 성능 최적화 | 3시간 | P3 | - |
| 3.10 | 배포 설정 (Vercel/Docker) | 3시간 | P3 | - |
| | **합계** | **37시간 (약 5일)** | | |

### 4.3 일별 계획

```
Week 4:
─────────────────────────────────────────────────────────────────
Day 16: 공개 주문 포털 API + UI 시작
Day 17: 공개 주문 포털 UI 완성
Day 18: 알림 시스템 (카카오, 이메일)
Day 19: NextAuth.js + 로그인 UI
Day 20: 권한 관리

Week 5:
─────────────────────────────────────────────────────────────────
Day 21: PostgreSQL 마이그레이션
Day 22: 성능 최적화
Day 23: 배포 설정
Day 24: 통합 테스트
Day 25: Phase 3 완료 + 최종 문서화
```

---

## 5. 기술 의존성 다이어그램

```
┌─────────────────────────────────────────────────────────────────┐
│                        의존성 순서                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [Prisma 스키마 확장]                                          │
│         │                                                       │
│         ├──→ [Supplier CRUD]                                   │
│         │         │                                             │
│         │         └──→ [SupplierProduct]                       │
│         │                    │                                  │
│         │                    └──→ [PurchaseOrder] ◀──┐         │
│         │                              │             │         │
│         │                              └──→ [ProfitAnalysis]   │
│         │                                                       │
│         ├──→ [Payment CRUD]                                    │
│         │         │                                             │
│         │         └──→ [입금 매칭]                              │
│         │                    │                                  │
│         │                    └──→ [미수금 현황]                 │
│         │                                                       │
│         └──→ [CustomerProductPrice] ──→ [단가 자동 적용]       │
│                                                                 │
│  ────────────────────────────────────────────────────────────  │
│                                                                 │
│  [대시보드]                                                     │
│      ├──→ ProfitAnalysis (손익 위젯)                           │
│      └──→ Payment (미수금 위젯)                                │
│                                                                 │
│  [PDF 생성]                                                     │
│      ├──→ Quotation (견적서)                                   │
│      └──→ Invoice (세금계산서)                                 │
│                                                                 │
│  [AuditLog]                                                     │
│      └──→ 모든 엔티티 CRUD에 적용                              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 6. 리스크 및 대응

| 리스크 | 영향 | 대응 방안 |
|--------|------|----------|
| 스키마 변경 충돌 | 높음 | 마이그레이션 스크립트 작성, 백업 필수 |
| PDF 한글 폰트 이슈 | 중간 | 검증된 폰트 사용, 서버 환경 테스트 |
| 손익 계산 오류 | 높음 | 단위 테스트 작성, 수동 검증 |
| 성능 저하 (대량 데이터) | 중간 | 인덱스 최적화, 페이징 적용 |
| 일정 지연 | 중간 | P0 우선 완료, P2/P3 조정 가능 |

---

## 7. 산출물 체크리스트

### Phase 1 산출물
- [ ] `prisma/schema.prisma` (확장)
- [ ] `/api/suppliers/*` API
- [ ] `/api/purchase-orders/*` API
- [ ] `/api/payments/*` API
- [ ] `/api/profit-analysis/*` API
- [ ] `/api/dashboard/*` API
- [ ] `/suppliers` 페이지
- [ ] `/purchase-orders` 페이지
- [ ] `/payments` 페이지
- [ ] `/` 대시보드 개선

### Phase 2 산출물
- [ ] `/api/customers/[id]/prices` API
- [ ] `/api/quotations/[id]/pdf` API
- [ ] `/api/invoices/[id]/pdf` API
- [ ] `/api/audit-logs` API
- [ ] PDF 템플릿 파일들
- [ ] AuditService 구현

### Phase 3 산출물
- [ ] `/order` 공개 주문 페이지
- [ ] 알림 서비스 연동
- [ ] 인증 시스템
- [ ] PostgreSQL 설정
- [ ] 배포 가이드

---

## 변경 이력

| 버전 | 날짜 | 변경 내역 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2026-01-05 | 초안 작성 | AI Assistant |


