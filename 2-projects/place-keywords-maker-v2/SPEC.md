# Place Keywords Maker V2 - í†µí•© ìŠ¤í™ ë¬¸ì„œ

ğŸ“ **ì „ëµ í”„ë ˆì„ì›Œí¬**: [42ment Guidebook v1.1](docs/architecture/251113_Guidebook_v1.1_full.md) - ì´ í”„ë¡œì íŠ¸ì˜ ì „ëµì  ê¸°ë°˜
ğŸ“ **ì „ëµ â†’ êµ¬í˜„ ë§¤í•‘**: [GUIDEBOOK_MAPPING.md](docs/GUIDEBOOK_MAPPING.md) - C-Sys/D-Sys/E-Sys êµ¬í˜„ ìœ„ì¹˜

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ëª©ì 
**42ment Guidebook v1.1**ì˜ ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ SEO ì „ëµì„ êµ¬í˜„í•˜ì—¬ ë°ì´í„° ìë™ ìˆ˜ì§‘, AI ë¶„ì„, í‚¤ì›Œë“œ ì „ëµ ìˆ˜ë¦½ì„ í†µí•© ìë™í™”í•˜ëŠ” ì‹œìŠ¤í…œ

### 1.2 V2ì˜ ëª©í‘œ
- **V1ì˜ ì™„ì„±ë„ ë†’ì€ ê¸°ëŠ¥** + **V2ì˜ ê¹”ë”í•œ ì•„í‚¤í…ì²˜** ê²°í•©
- ëª¨ë“ˆí™”ëœ êµ¬ì¡°ë¡œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 70% ì´ìƒ
- Circuit Breakerì™€ Retry ë¡œì§ìœ¼ë¡œ ì•ˆì •ì„± í™•ë³´
- 4íƒ­ GUIë¡œ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì „ì²´ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          GUI (4íƒ­ ì›¹ ì¸í„°í˜ì´ìŠ¤)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ë‹¨ì¼ â”‚ ë°°ì¹˜ â”‚ L1ê²°ê³¼ â”‚ ì‹¤ì‹œê°„ ë¡œê·¸   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ SSE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            GUI Server (Node.js)              â”‚
â”‚  - REST API                                  â”‚
â”‚  - SSE ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          L1/L2/L3 Pipeline                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ L1: ë°ì´í„° ìˆ˜ì§‘ (8ë‹¨ê³„)              â”‚    â”‚
â”‚  â”‚ L2: AI ë¶„ì„ (ë¯¸êµ¬í˜„)                 â”‚    â”‚
â”‚  â”‚ L3: í‚¤ì›Œë“œ ì „ëµ (ë¯¸êµ¬í˜„)             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Core Modules                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚PlaceCrawler â”‚DataParserâ”‚L1Processor  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Utils                            â”‚
â”‚  - CircuitBreaker (ì¥ì•  ì „íŒŒ ë°©ì§€)           â”‚
â”‚  - Retry (exponential/linear backoff)       â”‚
â”‚  - Logger (êµ¬ì¡°í™”ëœ ë¡œê¹…)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë””ë ‰í† ë¦¬ êµ¬ì¡° (í†µí•© í›„)
```
place-keywords-maker/
â”œâ”€â”€ .claude/                    # Claude ì„¤ì •
â”‚   â”œâ”€â”€ commands/
â”‚   â””â”€â”€ settings.local.json
â”œâ”€â”€ data/                       # ë°ì´í„° ë””ë ‰í† ë¦¬
â”‚   â”œâ”€â”€ input/                  # ì…ë ¥ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ place-ids.txt      # Place ID ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ current_keywords.json
â”‚   â”‚   â””â”€â”€ manual_notes.json
â”‚   â”œâ”€â”€ l1-output/             # L1 ìˆ˜ì§‘ ê²°ê³¼
â”‚   â”œâ”€â”€ l2-output/             # L2 ë¶„ì„ ê²°ê³¼
â”‚   â””â”€â”€ l3-output/             # L3 ì „ëµ ê²°ê³¼
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/                # ì„¤ì •
â”‚   â”‚   â””â”€â”€ default.yml
â”‚   â”œâ”€â”€ modules/               # í•µì‹¬ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ crawler/
â”‚   â”‚   â”‚   â””â”€â”€ PlaceCrawler.js
â”‚   â”‚   â”œâ”€â”€ parser/
â”‚   â”‚   â”‚   â”œâ”€â”€ DataParser.js
â”‚   â”‚   â”‚   â””â”€â”€ ApolloStateParser.js  # NEW: V1ì˜ Apollo State íŒŒì‹±
â”‚   â”‚   â””â”€â”€ processor/
â”‚   â”‚       â”œâ”€â”€ L1Processor.js
â”‚   â”‚       â”œâ”€â”€ AddressParser.js       # NEW: ì£¼ì†Œ íŒŒì‹±
â”‚   â”‚       â””â”€â”€ KeywordClassifier.js   # NEW: í‚¤ì›Œë“œ ë¶„ë¥˜
â”‚   â”œâ”€â”€ pipelines/             # íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â”œâ”€â”€ l1-pipeline.js
â”‚   â”‚   â”œâ”€â”€ l2-pipeline.js
â”‚   â”‚   â””â”€â”€ l3-pipeline.js
â”‚   â”œâ”€â”€ utils/                 # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ CircuitBreaker.js
â”‚   â”‚   â”œâ”€â”€ retry.js
â”‚   â”‚   â””â”€â”€ logger.js
â”‚   â””â”€â”€ gui/                   # GUI
â”‚       â”œâ”€â”€ server.js
â”‚       â””â”€â”€ app.html           # 4íƒ­ í†µí•© GUI
â”œâ”€â”€ tests/                     # í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ unit/
â”‚   â””â”€â”€ integration/
â”œâ”€â”€ logs/                      # ë¡œê·¸
â”œâ”€â”€ package.json
â”œâ”€â”€ jest.config.js
â””â”€â”€ README.md
```

---

## 3. L1 íŒŒì´í”„ë¼ì¸ (ìƒì„¸)

### 3.1 8ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ (V1 ê¸°ë°˜ ê°•í™”)

#### **Step 1: ë°ì´í„° ì†ŒìŠ¤ ìŠ¤ìº”**
```javascript
{
  purpose: "ìˆ˜ì§‘í•  Place ID ë° ê¸°ì¡´ ë°ì´í„° í™•ì¸",
  inputs: [
    "data/input/place-ids.txt",
    "data/input/current_keywords.json",
    "data/input/manual_notes.json"
  ],
  outputs: {
    placeIds: ["1768171911", "1265317185", ...],
    existingData: {...}
  }
}
```

#### **Step 2: ë°ì´í„° ë¡œë”© (í¬ë¡¤ë§)**
```javascript
{
  purpose: "Puppeteerë¡œ ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ í¬ë¡¤ë§",
  features: [
    "Apollo State ì™„ì „ íŒŒì‹± (V1 ë°©ì‹)",
    "ë¸”ë¡œê·¸ ë¦¬ë·° ì „ë¬¸ ìˆ˜ì§‘ (1500ì+)",
    "ì´ë¯¸ì§€ ìë™ ë¶„ë¥˜ (ë©”ë‰´/ì¸í…Œë¦¬ì–´/ìŒì‹)",
    "Circuit Breakerë¡œ ì•ˆì •ì„± í™•ë³´",
    "Exponential Backoff ì¬ì‹œë„"
  ],
  collectedData: {
    basic: { id, name, category, address, phone, rating },
    menus: [{ name, price, description, image, recommended }],  // ìµœëŒ€ 50ê°œ
    reviews: {
      stats: { total, textCount, rating },
      blogReviews: [{ author, date, content, url, hashtags }],  // ìµœëŒ€ 10ê°œ, 1500ì+
      summary: ["ì§§ì€ ë¦¬ë·° 3ê°œ"]
    },
    images: [{ url, description, category: 'menu|interior|food' }],
    facilities: ["ì£¼ì°¨", "WiFi", "í¬ì¥", ...],
    payment: ["ì¹´ë“œ", "ì œë¡œí˜ì´", ...],
    parking: "ì£¼ì°¨ ê°€ëŠ¥ (5ëŒ€)"
  }
}
```

#### **Step 3: ë°ì´í„° í†µí•©**
```javascript
{
  purpose: "í¬ë¡¤ë§ ë°ì´í„° + ìˆ˜ë™ ì…ë ¥ + í˜„ì¬ í‚¤ì›Œë“œ ë³‘í•©",
  process: [
    "í¬ë¡¤ë§ ë°ì´í„° ìš°ì„ ",
    "ìˆ˜ë™ ë©”ëª¨ ì¶”ê°€",
    "í˜„ì¬ í‚¤ì›Œë“œ ë§¤ì¹­"
  ]
}
```

#### **Step 4: ì§€ì—­ ì •ë³´ íŒŒì‹±**
```javascript
{
  purpose: "ì£¼ì†Œì—ì„œ ì‹œ/êµ¬/ë™/ì—­ ì¶”ì¶œ",
  example: {
    input: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45 (ê°•ë‚¨ì—­ 2ë²ˆì¶œêµ¬ ì•)",
    output: {
      city: "ì„œìš¸",
      district: "ê°•ë‚¨êµ¬",
      dong: "ì—­ì‚¼ë™",
      station: "ê°•ë‚¨ì—­",
      normalized: {
        city: "ì„œìš¸",
        district: "ê°•ë‚¨",
        dong: "ì—­ì‚¼"
      }
    }
  },
  algorithm: "ì •ê·œí‘œí˜„ì‹ + ì—­ ê²€ì¶œ"
}
```

#### **Step 5: í‚¤ì›Œë“œ ìš”ì†Œ ë¶„ë¥˜**
```javascript
{
  purpose: "SEO í‚¤ì›Œë“œ êµ¬ì„± ìš”ì†Œ 5ê°€ì§€ ë¶„ë¥˜",
  categories: {
    core: {
      desc: "í•µì‹¬ ìš”ì†Œ",
      items: ["ì¹´í…Œê³ ë¦¬", "ì„œë¸Œì¹´í…Œê³ ë¦¬", "ë¸Œëœë“œ"]
    },
    location: {
      desc: "ì§€ì—­ ìš”ì†Œ",
      items: [
        "ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™",
        "ê°•ë‚¨ì—­ ë§›ì§‘",
        "ì—­ì‚¼ ì¹´í˜"
      ]
    },
    menu: {
      desc: "ë©”ë‰´ ìš”ì†Œ",
      items: ["ì•„ë©”ë¦¬ì¹´ë…¸", "ë¼ë–¼"],
      priceRange: "í‰ê·  5000-10000ì›"
    },
    attribute: {
      desc: "ì†ì„± ìš”ì†Œ",
      items: ["24ì‹œê°„", "ì£¼ì°¨ê°€ëŠ¥", "WiFi"]
    },
    sentiment: {
      desc: "ê°ì„± ìš”ì†Œ",
      items: ["ë¶„ìœ„ê¸°ì¢‹ì€", "ë°ì´íŠ¸í•˜ê¸°ì¢‹ì€"]
    }
  }
}
```

#### **Step 6: ë°ì´í„° ì™„ì„±ë„ í‰ê°€**
```javascript
{
  purpose: "115ì  ë§Œì  ìŠ¤ì½”ì–´ë§ ì‹œìŠ¤í…œ",
  scoring: {
    basic: 20,      // ID, ì´ë¦„, ì¹´í…Œê³ ë¦¬, ì£¼ì†Œ, ì „í™”
    menus: 20,      // ë©”ë‰´ 10ê°œ ì´ìƒ
    reviews: 25,    // ë¦¬ë·° 100ê°œ ì´ìƒ + ë¸”ë¡œê·¸ ë¦¬ë·°
    images: 15,     // ì´ë¯¸ì§€ 20ê°œ ì´ìƒ
    facilities: 10, // í¸ì˜ì‹œì„¤ 5ê°œ ì´ìƒ
    keywords: 15,   // í˜„ì¬ í‚¤ì›Œë“œ ë³´ìœ 
    manual: 10      // ìˆ˜ë™ ë©”ëª¨ ë³´ìœ 
  },
  grades: {
    HIGH: "90ì  ì´ìƒ",
    MEDIUM: "60-89ì ",
    LOW: "60ì  ë¯¸ë§Œ"
  }
}
```

#### **Step 7: ìš°ì„ ìˆœìœ„ ì •ë ¬**
```javascript
{
  purpose: "ì²˜ë¦¬ ìš°ì„ ìˆœìœ„ ê²°ì •",
  order: [
    "1. í˜„ì¬ í‚¤ì›Œë“œ ë³´ìœ  ë§¤ì¥",
    "2. ì™„ì„±ë„ ë†’ì€ ìˆœ",
    "3. ë¦¬ë·° ë§ì€ ìˆœ"
  ]
}
```

#### **Step 8: ê²°ê³¼ ì €ì¥**
```javascript
{
  outputs: {
    "data/l1-output/data_collected_l1.json": "ì „ì²´ ë°ì´í„°",
    "data/l1-output/keyword_elements_l1.json": "í‚¤ì›Œë“œ ìš”ì†Œ",
    "data/l1-output/current_keywords_l1.json": "í‚¤ì›Œë“œ ë¶„ì„"
  }
}
```

---

## 4. GUI ìƒì„¸ ìŠ¤í™

### 4.1 4íƒ­ êµ¬ì¡°

#### **íƒ­ 1: ë‹¨ì¼ ìˆ˜ì§‘**
```
ê¸°ëŠ¥:
- Place ID 1ê°œ ì…ë ¥ â†’ ì¦‰ì‹œ ìˆ˜ì§‘
- ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© í‘œì‹œ
- ê²°ê³¼ ë¡œê·¸ í‘œì‹œ

UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Place ID: [1768171911    ] [ìˆ˜ì§‘]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ ìˆ˜ì§‘ ê²°ê³¼                    â”‚
â”‚ [08:30:15] âœ… 1768171911 ì™„ë£Œ   â”‚
â”‚ [08:30:14] ì²˜ë¦¬ ì¤‘...           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **íƒ­ 2: ë°°ì¹˜ ìˆ˜ì§‘**
```
ê¸°ëŠ¥:
- ì—¬ëŸ¬ Place ID ì…ë ¥ (ì¤„ë°”ê¿ˆ êµ¬ë¶„)
- ID ì¹©ìœ¼ë¡œ ì‹œê°í™”
- ê°œë³„ ì‚­ì œ ê°€ëŠ¥
- ì¼ê´„ ì²˜ë¦¬

UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Place IDs:                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚1768171911                â”‚   â”‚
â”‚ â”‚1265317185                â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚ ID ëª©ë¡:                        â”‚
â”‚ [1768171911 Ã—] [1265317185 Ã—]  â”‚
â”‚                                 â”‚
â”‚ [ë°°ì¹˜ ìˆ˜ì§‘] [ëª©ë¡ ì§€ìš°ê¸°]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **íƒ­ 3: L1 ê²°ê³¼**
```
ê¸°ëŠ¥:
- í†µê³„ ëŒ€ì‹œë³´ë“œ (ì´ ë§¤ì¥/í‰ê·  ì™„ì„±ë„/HIGH ë“±ê¸‰)
- ë§¤ì¥ë³„ ê²°ê³¼ ì¹´ë“œ
- ì™„ì„±ë„ë³„ ìƒ‰ìƒ êµ¬ë¶„

UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š í†µê³„                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ì´ 10ê°œâ”‚í‰ê· 85â”‚HIGH 7â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                 â”‚
â”‚ ğŸ“‹ ë§¤ì¥ ëª©ë¡                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸª ì¹´í˜ ì´ë¦„               â”‚   â”‚
â”‚ â”‚ ID: 1768171911            â”‚   â”‚
â”‚ â”‚ [ì™„ì„±ë„: 92% - HIGH]      â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **íƒ­ 4: ì‹¤ì‹œê°„ ë¡œê·¸**
```
ê¸°ëŠ¥:
- ëª¨ë“  ì²˜ë¦¬ ë¡œê·¸ ì‹¤ì‹œê°„ í‘œì‹œ
- ë ˆë²¨ë³„ í•„í„° (Info/Success/Warning/Error)
- ë¡œê·¸ ì§€ìš°ê¸°
- SSE ìë™ ì—…ë°ì´íŠ¸

UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [âœ“] Info [âœ“] Success            â”‚
â”‚ [âœ“] Warning [âœ“] Error [ë¡œê·¸ì§€ìš°ê¸°]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [08:30:15] âœ… ì²˜ë¦¬ ì™„ë£Œ         â”‚
â”‚ [08:30:14] â„¹ï¸ 1768171911 ì²˜ë¦¬ì¤‘â”‚
â”‚ [08:30:10] âš ï¸ ì¬ì‹œë„ ì¤‘...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ì‹¤ì‹œê°„ í†µì‹  (SSE)
```javascript
// ì´ë²¤íŠ¸ íƒ€ì…
events: {
  connected: "ì„œë²„ ì—°ê²°ë¨",
  start: "ì²˜ë¦¬ ì‹œì‘",
  progress: "ì§„í–‰ ì¤‘",
  success: "ì„±ê³µ",
  error: "ì—ëŸ¬",
  warning: "ê²½ê³ ",
  complete: "ì „ì²´ ì™„ë£Œ",
  l1_result: "L1 ê²°ê³¼ ìˆ˜ì‹ "
}

// ì´ë²¤íŠ¸ ë°ì´í„° êµ¬ì¡°
{
  type: "success",
  message: "âœ… 1768171911 ì™„ë£Œ (ì™„ì„±ë„: 92%)",
  placeId: "1768171911",
  completeness: 92,
  current: 5,
  total: 10,
  timestamp: "2025-01-13T08:30:15.123Z"
}
```

---

## 5. í•µì‹¬ ëª¨ë“ˆ ìŠ¤í™

### 5.1 PlaceCrawler (í†µí•© ë²„ì „)

#### ê¸°ëŠ¥
```javascript
class PlaceCrawler {
  // V1ì˜ Apollo State íŒŒì‹± í†µí•©
  async crawl(placeId) {
    // 1. Puppeteerë¡œ í˜ì´ì§€ ì ‘ì†
    // 2. window.__APOLLO_STATE__ ì¶”ì¶œ
    // 3. ë¸”ë¡œê·¸ ë¦¬ë·° ì „ë¬¸ ìˆ˜ì§‘
    // 4. ì´ë¯¸ì§€ ìë™ ë¶„ë¥˜
    // 5. Circuit Breaker ì ìš©
    // 6. Exponential Backoff ì¬ì‹œë„
  }

  // V2ì˜ ì•ˆì •ì„± ê¸°ëŠ¥
  async batchCrawl(placeIds) {
    // ë°°ì¹˜ ì²˜ë¦¬ + ì§„í–‰ë¥  í‘œì‹œ
  }
}
```

#### Apollo State íŒŒì‹± (V1)
```javascript
// window.__APOLLO_STATE__ êµ¬ì¡°
{
  "Place:1768171911": {
    id: "1768171911",
    name: "ì¹´í˜ ì´ë¦„",
    category: "ì¹´í˜",
    // ...ê¸°ë³¸ ì •ë³´
  },
  "BlogReview:xxx": {
    author: "ì‘ì„±ì",
    content: "1500ì ì´ìƒ ë¦¬ë·° ì „ë¬¸...",
    date: "2025-01-10",
    url: "https://...",
    hashtags: ["#ë§›ì§‘", "#ë°ì´íŠ¸"]
  },
  "Image:xxx": {
    url: "https://...",
    category: "menu",  // auto-classified
    description: "ì•„ë©”ë¦¬ì¹´ë…¸"
  }
}
```

### 5.2 DataParser (ê°•í™” ë²„ì „)

#### V1 ê¸°ëŠ¥ í†µí•©
```javascript
class DataParser {
  parseApolloState(apolloState) {
    // V1ì˜ ì™„ì „í•œ Apollo State íŒŒì‹±
    return {
      basic: {...},
      menus: [...],
      blogReviews: [...],  // NEW
      images: [...],       // NEW (ë¶„ë¥˜)
      facilities: [...]
    };
  }

  calculateCompleteness(data) {
    // 115ì  ë§Œì  ìŠ¤ì½”ì–´ë§ (V1)
    return {
      score: 92,
      grade: 'HIGH',
      breakdown: {...}
    };
  }
}
```

### 5.3 L1Processor (ì™„ì „ êµ¬í˜„)

#### 8ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤
```javascript
class L1Processor {
  async process(placeIds) {
    // Step 1: ë°ì´í„° ì†ŒìŠ¤ ìŠ¤ìº”
    const sources = await this.scanSources();

    // Step 2: í¬ë¡¤ë§
    const rawData = await this.crawler.batchCrawl(placeIds);

    // Step 3: ë°ì´í„° í†µí•©
    const integrated = this.integrateData(rawData, sources);

    // Step 4: ì§€ì—­ ì •ë³´ íŒŒì‹± (NEW)
    const withLocation = this.parseLocation(integrated);

    // Step 5: í‚¤ì›Œë“œ ìš”ì†Œ ë¶„ë¥˜ (NEW)
    const withKeywords = this.classifyKeywords(withLocation);

    // Step 6: ì™„ì„±ë„ í‰ê°€
    const evaluated = this.evaluateCompleteness(withKeywords);

    // Step 7: ìš°ì„ ìˆœìœ„ ì •ë ¬
    const sorted = this.sortByPriority(evaluated);

    // Step 8: ê²°ê³¼ ì €ì¥
    await this.saveResults(sorted);
  }
}
```

### 5.4 AddressParser (NEW)

#### ì£¼ì†Œ íŒŒì‹±
```javascript
class AddressParser {
  parse(address) {
    // ì •ê·œí‘œí˜„ì‹ìœ¼ë¡œ ì‹œ/êµ¬/ë™/ì—­ ì¶”ì¶œ
    const patterns = {
      city: /^(ì„œìš¸|ë¶€ì‚°|ëŒ€êµ¬|ì¸ì²œ|ê´‘ì£¼|ëŒ€ì „|ìš¸ì‚°|ì„¸ì¢…|ê²½ê¸°|ê°•ì›|ì¶©ë¶|ì¶©ë‚¨|ì „ë¶|ì „ë‚¨|ê²½ë¶|ê²½ë‚¨|ì œì£¼)/,
      district: /(.*?)(ì‹œ|êµ°|êµ¬)/,
      dong: /(.*?)(ë™|ì|ë©´|ë¦¬)/,
      station: /(.*?)ì—­/
    };

    return {
      city: "ì„œìš¸",
      district: "ê°•ë‚¨êµ¬",
      dong: "ì—­ì‚¼ë™",
      station: "ê°•ë‚¨ì—­",
      normalized: {
        city: "ì„œìš¸",
        district: "ê°•ë‚¨",
        dong: "ì—­ì‚¼"
      }
    };
  }
}
```

### 5.5 KeywordClassifier (NEW)

#### í‚¤ì›Œë“œ 5ê°€ì§€ ë¶„ë¥˜
```javascript
class KeywordClassifier {
  classify(placeData) {
    return {
      core: this.extractCore(placeData),      // ì¹´í…Œê³ ë¦¬, ë¸Œëœë“œ
      location: this.extractLocation(placeData),  // ì§€ì—­ ì¡°í•©
      menu: this.extractMenu(placeData),      // ë©”ë‰´, ê°€ê²©ëŒ€
      attribute: this.extractAttribute(placeData), // í¸ì˜ì‹œì„¤
      sentiment: this.extractSentiment(placeData)  // ê°ì„± (ë¦¬ë·° ë¶„ì„)
    };
  }
}
```

---

## 6. ì•ˆì •ì„± & ì—ëŸ¬ ì²˜ë¦¬

### 6.1 Circuit Breaker
```javascript
{
  failureThreshold: 5,      // 5ë²ˆ ì—°ì† ì‹¤íŒ¨ ì‹œ OPEN
  resetTimeout: 60000,      // 60ì´ˆ í›„ HALF_OPEN
  states: ['CLOSED', 'OPEN', 'HALF_OPEN']
}
```

### 6.2 Retry ì „ëµ
```javascript
{
  exponential: {
    maxAttempts: 3,
    baseDelay: 1000,        // 1ì´ˆ â†’ 2ì´ˆ â†’ 4ì´ˆ
    maxDelay: 10000
  },
  linear: {
    maxAttempts: 5,
    delay: 2000             // í•­ìƒ 2ì´ˆ
  }
}
```

### 6.3 ë¡œê¹…
```javascript
{
  levels: ['debug', 'info', 'warn', 'error'],
  outputs: ['console', 'file', 'sse'],
  format: '[2025-01-13 08:30:15] [INFO] Message',
  fileRotation: 'daily',
  maxFiles: 7
}
```

---

## 7. ë°ì´í„° ìŠ¤í‚¤ë§ˆ

### 7.1 Place ë°ì´í„° (ì™„ì „íŒ)
```json
{
  "placeId": "1768171911",
  "name": "ì¹´í˜ ì´ë¦„",
  "category": "ì¹´í˜",
  "address": "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45",
  "phone": "02-1234-5678",
  "rating": 4.5,
  "location": {
    "city": "ì„œìš¸",
    "district": "ê°•ë‚¨êµ¬",
    "dong": "ì—­ì‚¼ë™",
    "station": "ê°•ë‚¨ì—­"
  },
  "menus": [
    {
      "name": "ì•„ë©”ë¦¬ì¹´ë…¸",
      "price": 4500,
      "description": "ì‹ ì„ í•œ ì›ë‘",
      "image": "https://...",
      "recommended": true
    }
  ],
  "reviews": {
    "total": 1234,
    "textCount": 567,
    "rating": 4.5,
    "blogReviews": [
      {
        "author": "ë¸”ë¡œê±°",
        "date": "2025-01-10",
        "content": "1500ì ì´ìƒ ì „ë¬¸...",
        "url": "https://blog.naver.com/...",
        "hashtags": ["#ë§›ì§‘", "#ë°ì´íŠ¸"]
      }
    ],
    "summary": ["ì§§ì€ ë¦¬ë·°1", "ì§§ì€ ë¦¬ë·°2", "ì§§ì€ ë¦¬ë·°3"]
  },
  "images": [
    {
      "url": "https://...",
      "description": "ì•„ë©”ë¦¬ì¹´ë…¸",
      "category": "menu"
    }
  ],
  "facilities": ["ì£¼ì°¨", "WiFi", "í¬ì¥"],
  "payment": ["ì¹´ë“œ", "ì œë¡œí˜ì´"],
  "parking": "ì£¼ì°¨ ê°€ëŠ¥ (5ëŒ€)",
  "keywordElements": {
    "core": ["ì¹´í˜", "ì»¤í”¼ì „ë¬¸ì "],
    "location": ["ê°•ë‚¨ì—­ ì¹´í˜", "ì—­ì‚¼ë™ ì¹´í˜"],
    "menu": ["ì•„ë©”ë¦¬ì¹´ë…¸", "ë¼ë–¼"],
    "attribute": ["24ì‹œê°„", "WiFi"],
    "sentiment": ["ë¶„ìœ„ê¸°ì¢‹ì€", "ë°ì´íŠ¸í•˜ê¸°ì¢‹ì€"]
  },
  "completeness": {
    "score": 92,
    "grade": "HIGH",
    "breakdown": {
      "basic": 20,
      "menus": 18,
      "reviews": 25,
      "images": 15,
      "facilities": 10,
      "keywords": 0,
      "manual": 0
    }
  },
  "currentKeywords": [],
  "manualNotes": null
}
```

---

## 8. API ì—”ë“œí¬ì¸íŠ¸

### 8.1 REST API
```
POST /api/process
- Body: { placeIds: ["1768171911", ...] }
- Response: { success: true, message: "..." }

GET /api/status
- Response: { status: "running", isProcessing: false }

GET /events (SSE)
- Stream: Server-Sent Events
```

---

## 9. í…ŒìŠ¤íŠ¸ ì „ëµ

### 9.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```
tests/unit/
â”œâ”€â”€ CircuitBreaker.test.js    âœ… 6 tests passing
â”œâ”€â”€ retry.test.js
â”œâ”€â”€ DataParser.test.js
â”œâ”€â”€ AddressParser.test.js      NEW
â””â”€â”€ KeywordClassifier.test.js  NEW
```

### 9.2 í†µí•© í…ŒìŠ¤íŠ¸
```
tests/integration/
â”œâ”€â”€ l1-pipeline.test.js
â”œâ”€â”€ gui-server.test.js
â””â”€â”€ end-to-end.test.js
```

### 9.3 ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
```
Target: 70%
- Branches: 70%
- Functions: 70%
- Lines: 70%
- Statements: 70%
```

---

## 10. ë°°í¬ & ì‹¤í–‰

### 10.1 í™˜ê²½ ì„¤ì •
```bash
# .env íŒŒì¼
NODE_ENV=production
PORT=3000
PUPPETEER_HEADLESS=true
```

### 10.2 ì‹¤í–‰ ëª…ë ¹ì–´
```bash
# GUI ì„œë²„
npm run gui

# L1 íŒŒì´í”„ë¼ì¸ (CLI)
npm run l1

# í…ŒìŠ¤íŠ¸
npm test

# ì»¤ë²„ë¦¬ì§€
npm run test:coverage
```

---

## 11. ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš

### Phase 1: ê¸°ëŠ¥ í†µí•© âœ…
- [x] 4íƒ­ GUI ìƒì„±
- [x] SSE ì‹¤ì‹œê°„ ë¡œê·¸
- [ ] Apollo State ì™„ì „ íŒŒì‹± (V1 â†’ V2)
- [ ] ë¸”ë¡œê·¸ ë¦¬ë·° ìˆ˜ì§‘
- [ ] ì´ë¯¸ì§€ ë¶„ë¥˜

### Phase 2: L1 ê°•í™” (ì§„í–‰ ì¤‘)
- [ ] ì£¼ì†Œ íŒŒì‹± ëª¨ë“ˆ
- [ ] í‚¤ì›Œë“œ ë¶„ë¥˜ ëª¨ë“ˆ
- [ ] ì™„ì„±ë„ í‰ê°€ ê³ ë„í™”
- [ ] 8ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ ì™„ì„±

### Phase 3: ì•ˆì •í™”
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ ëŒ€ì‘
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ë¬¸ì„œí™”

### Phase 4: L2/L3 êµ¬í˜„
- [ ] L2: AI ë¶„ì„ (GPT-4)
- [ ] L3: í‚¤ì›Œë“œ ì „ëµ ìƒì„±
- [ ] ìµœì¢… ë³´ê³ ì„œ ìƒì„±

---

## 12. ì„±ëŠ¥ ì§€í‘œ

### 12.1 ëª©í‘œ
```
- í¬ë¡¤ë§ ì†ë„: 1ê°œë‹¹ 5-10ì´ˆ
- ë°°ì¹˜ ì²˜ë¦¬: 10ê°œ ë™ì‹œ ì²˜ë¦¬
- GUI ì‘ë‹µ: 100ms ì´ë‚´
- SSE ì§€ì—°: 50ms ì´ë‚´
- ë©”ëª¨ë¦¬ ì‚¬ìš©: 500MB ì´í•˜
```

### 12.2 ëª¨ë‹ˆí„°ë§
```
- ì„±ê³µë¥  ì¶”ì 
- ì‹¤íŒ¨ ì›ì¸ ë¶„ì„
- í‰ê·  ì²˜ë¦¬ ì‹œê°„
- Circuit Breaker ìƒíƒœ
```

---

## 13. ë¼ì´ì„ ìŠ¤ & ê¸°ì—¬

### 13.1 ë¼ì´ì„ ìŠ¤
MIT License

### 13.2 ê¸°ì—¬ ê°€ì´ë“œ
1. Fork the repository
2. Create feature branch
3. Write tests
4. Submit PR

---

## 14. ë³€ê²½ ì´ë ¥

### v2.0.0 (2025-01-13)
- V1ê³¼ V2 ê¸°ëŠ¥ í†µí•©
- 4íƒ­ GUI êµ¬í˜„
- SSE ì‹¤ì‹œê°„ ë¡œê·¸
- Circuit Breaker & Retry
- Jest í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬

### v1.0.0 (Previous)
- ì´ˆê¸° V1 ë²„ì „
- Apollo State íŒŒì‹±
- ë¸”ë¡œê·¸ ë¦¬ë·° ìˆ˜ì§‘
- L1 8ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤

---

## 15. ì°¸ê³  ìë£Œ

- [ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ API](https://developers.naver.com/products/place/)
- [Puppeteer Documentation](https://pptr.dev/)
- [Circuit Breaker Pattern](https://martinfowler.com/bliki/CircuitBreaker.html)
- [Jest Testing](https://jestjs.io/)
