# 42ment ERP - Windows 실행 가이드

## 빠른 시작 (3단계)

### 1단계: SETUP.bat 실행 (최초 1회만)
```
SETUP.bat 더블클릭
```
- Python 확인
- 가상환경 생성
- 필수 패키지 설치
- 데이터베이스 초기화
- (선택) 샘플 데이터 로드

### 2단계: RUN.bat 실행
```
RUN.bat 더블클릭
```
- ERP 시스템 시작
- 브라우저 자동 실행

### 3단계: 브라우저에서 접속
```
http://localhost:8501
```

## 배치 파일 설명

### SETUP.bat (초기 설정)
**최초 1회만 실행하세요**

실행 내용:
- Python 설치 확인
- 가상환경 생성 (venv 폴더)
- pip 업그레이드
- requirements.txt 패키지 설치
- 데이터베이스 초기화
- 샘플 데이터 로드 (선택)

### RUN.bat (실행)
**ERP를 시작할 때마다 실행하세요**

실행 내용:
- 가상환경 활성화
- Streamlit 서버 시작 (포트 8501)
- 브라우저 자동 실행

종료 방법:
- 배치 창에서 `Ctrl + C` 누르기
- 또는 배치 창 닫기

### RESET_DATABASE.bat (DB 리셋)
**주의: 모든 데이터가 삭제됩니다!**

실행 내용:
- 모든 데이터 삭제
- 데이터베이스 재초기화
- 샘플 데이터 로드 (선택)

사용 시기:
- 데이터를 모두 지우고 처음부터 시작하고 싶을 때
- 테스트 데이터를 정리하고 싶을 때

## 시스템 요구사항

### 필수
- **Windows 10/11** (64-bit)
- **Python 3.11 이상**
  - 다운로드: https://www.python.org/downloads/
  - 설치 시 **"Add Python to PATH"** 체크 필수!
- **4GB RAM** 이상
- **500MB 디스크 공간**

### 선택
- 인터넷 연결 (최초 설치 시 패키지 다운로드용)

## 폴더 구조

```
42ment-erp/
├── SETUP.bat                  # 초기 설정 스크립트
├── RUN.bat                    # 실행 스크립트
├── RESET_DATABASE.bat         # DB 리셋 스크립트
├── venv/                      # 가상환경 (자동 생성)
├── data/                      # 데이터 폴더
│   ├── 42ment.db             # 데이터베이스 파일
│   ├── exports/              # 내보내기 파일
│   ├── logs/                 # 로그 파일
│   └── backups/              # 백업 파일
├── src/                       # 소스 코드
└── requirements.txt          # 패키지 목록
```

## 문제 해결

### "Python을 찾을 수 없습니다" 오류

**원인**: Python이 설치되지 않았거나 PATH에 없음

**해결**:
1. Python 3.11+ 설치: https://www.python.org/downloads/
2. 설치 시 "Add Python to PATH" 체크
3. 설치 후 새 명령 프롬프트 열기
4. 확인: `python --version`

### "가상환경 생성 실패" 오류

**원인**: 디스크 공간 부족 또는 권한 문제

**해결**:
1. 디스크 공간 확인 (최소 500MB)
2. 폴더를 C:\42ment-erp 같은 간단한 경로로 이동
3. 관리자 권한으로 실행

### "패키지 설치 실패" 오류

**원인**: 인터넷 연결 문제 또는 방화벽

**해결**:
1. 인터넷 연결 확인
2. 방화벽/백신 프로그램 일시 중지
3. 다시 SETUP.bat 실행

### "포트 이미 사용 중" 오류

**원인**: 다른 프로그램이 8501 포트 사용 중

**해결**:
1. 이미 실행 중인 RUN.bat 창 닫기
2. 작업 관리자에서 python.exe 프로세스 종료
3. 다시 RUN.bat 실행

### 브라우저가 자동으로 안 열릴 때

**해결**:
1. 수동으로 브라우저 열기
2. 주소창에 입력: `http://localhost:8501`

### 데이터가 저장되지 않을 때

**원인**: 데이터베이스 파일 권한 문제

**해결**:
1. data 폴더의 읽기/쓰기 권한 확인
2. 폴더를 사용자 폴더로 이동 (예: C:\Users\YourName\42ment-erp)

## 데이터 백업

### 수동 백업
```
1. data\42ment.db 파일 복사
2. 안전한 위치에 저장
3. 날짜를 포함한 이름으로 저장
   예: 42ment_backup_20250114.db
```

### 복원
```
1. 백업 파일을 data\42ment.db로 이름 변경
2. 기존 42ment.db 덮어쓰기
3. RUN.bat 실행
```

## 업데이트

새 버전으로 업데이트하려면:

```
1. 데이터 백업
   - data\42ment.db 파일 복사

2. 새 버전 다운로드 및 압축 해제

3. 백업한 데이터 복원
   - 백업 파일을 새 버전의 data 폴더에 복사

4. RUN.bat 실행
```

## 제거 (언인스톨)

```
1. RUN.bat 실행 중이면 종료 (Ctrl+C)
2. 필요시 data\42ment.db 백업
3. 폴더 전체 삭제
```

## 사용 예시

### 처음 사용하는 경우
```
1. SETUP.bat 더블클릭
2. Python 설치 확인
3. 패키지 설치 대기 (5-10분)
4. 샘플 데이터 로드: Y 입력
5. RUN.bat 더블클릭
6. 브라우저에서 http://localhost:8501 접속
```

### 매일 사용하는 경우
```
1. RUN.bat 더블클릭
2. 브라우저에서 http://localhost:8501 접속
3. 작업 완료 후 배치 창 닫기
```

### 데이터를 초기화하고 싶은 경우
```
1. RESET_DATABASE.bat 더블클릭
2. YES 입력하여 확인
3. 샘플 데이터 로드 여부 선택
```

## 주요 기능

### 고객 관리
- 고객 등록/수정/삭제
- 고객별 프로젝트 조회
- 변경 이력 추적

### 프로젝트 관리
- 프로젝트 생성 및 상태 관리
- 고객별 프로젝트 분류
- 프로젝트별 작업 시간 집계

### 작업 시간 기록
- 프로젝트별 작업 시간 입력
- 일자별/프로젝트별 조회
- 누적 시간 통계

### 청구서 생성
- 작업 시간 기반 자동 청구서 생성
- PDF 출력
- 청구서 이력 관리

### 데이터 내보내기
- CSV/JSON 형식 지원
- 전체 또는 선택적 내보내기
- 백업 및 이전 용도

## 자주 묻는 질문

**Q: Python 몇 버전이 필요한가요?**
A: Python 3.11 이상이 필요합니다.

**Q: 가상환경이 뭔가요?**
A: Python 패키지를 프로젝트별로 격리하는 기능입니다. SETUP.bat이 자동으로 생성합니다.

**Q: 인터넷 연결이 계속 필요한가요?**
A: 최초 설치 시에만 필요하고, 이후에는 오프라인으로 사용 가능합니다.

**Q: 여러 PC에서 사용할 수 있나요?**
A: 네. data\42ment.db 파일을 USB로 복사해서 사용하세요.

**Q: 동시에 여러 사용자가 사용할 수 있나요?**
A: 아니요. 단일 사용자용입니다. 동시 접근 시 데이터 충돌 가능합니다.

**Q: Mac이나 Linux에서도 되나요?**
A: 이 배치 파일은 Windows 전용입니다. Mac/Linux는 터미널에서 직접 실행하세요.

## 지원

- **문서**: README.md, BUILD_GUIDE.md 참조
- **GitHub Issues**: 버그 리포트 및 기능 요청
- **이메일**: (추가 필요)

---

**42ment ERP v0.1**
프리랜서를 위한 경량 프로젝트 관리 시스템
