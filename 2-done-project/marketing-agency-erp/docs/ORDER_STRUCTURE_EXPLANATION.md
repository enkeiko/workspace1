# 주문 구조 설명

## 현재 구현 구조

### 주문번호 개념
- **1개 주문번호 = 여러 항목을 묶은 형태** ✅
- 한 업체(고객)가 여러 상품을 한 번에 주문하면 → **하나의 주문번호**에 **여러 항목(OrderItem)**이 포함됨

### 데이터 구조
```
Order (주문)
├── orderNumber: "ORD-202511-000001" (고유한 주문번호)
├── customerId: 1 (고객)
├── storeId: 1 (매장)
├── totalAmount: 100,000원 (모든 항목의 합계)
└── items: OrderItem[] (여러 항목)
    ├── OrderItem 1: 상품A, 수량 2, 단가 30,000원
    ├── OrderItem 2: 상품B, 수량 1, 단가 40,000원
    └── OrderItem 3: 커스텀 상품, 수량 1, 단가 30,000원
```

### 예시 시나리오

#### 시나리오 1: 정상적인 주문 생성
```
고객: "테스트 회사"
매장: "강남점"
주문번호: ORD-202511-000001

항목:
1. 로고 디자인 - 1개 - 500,000원
2. 명함 디자인 - 100개 - 200,000원
3. 포스터 디자인 - 10개 - 300,000원

총액: 1,000,000원
```

→ **하나의 주문번호**에 **3개의 항목**이 포함됨

#### 시나리오 2: 항목별 주문번호 (현재 구현 아님)
```
고객: "테스트 회사"
매장: "강남점"

주문번호: ORD-202511-000001
항목: 로고 디자인 - 1개 - 500,000원

주문번호: ORD-202511-000002
항목: 명함 디자인 - 100개 - 200,000원

주문번호: ORD-202511-000003
항목: 포스터 디자인 - 10개 - 300,000원
```

→ 이 방식은 **현재 구현이 아님**

## 현재 구현의 장점

1. **관리 용이성**: 하나의 주문번호로 모든 항목 관리
2. **정산 편의성**: 한 번에 결제/정산 처리 가능
3. **일반적인 비즈니스 로직**: 대부분의 주문 시스템이 이 방식 사용

## 만약 항목별 주문번호가 필요한 경우

만약 비즈니스 요구사항이 "각 항목마다 별도의 주문번호"라면:
- 현재 구조를 변경해야 함
- 각 OrderItem에 orderNumber를 부여하거나
- OrderItem을 Order로 승격시켜야 함

하지만 일반적으로는 현재 구조(1 주문번호 = 여러 항목)가 맞습니다.

