# 리워드 접수 플랫폼 기획서

> 프로젝트명: Rewardorderweb  
> 작성일: 2025년 12월 10일  
> 버전: 1.0

---

## 목차

1. [프로젝트 개요](#1-프로젝트-개요)
2. [지원 마케팅 유형](#2-지원-마케팅-유형)
3. [핵심 기능 정의](#3-핵심-기능-정의)
4. [데이터베이스 설계](#4-데이터베이스-설계)
5. [화면 설계](#5-화면-설계)
6. [포인트/캐시 시스템](#6-포인트캐시-시스템)
7. [기술 스택](#7-기술-스택)
8. [개발 단계](#8-개발-단계)

---

## 1. 프로젝트 개요

### 1.1 서비스명
**Rewardorderweb** - 리워드 마케팅 통합 관리 플랫폼

### 1.2 서비스 목적
리워드 마케팅 미션을 효율적으로 접수, 관리, 실행할 수 있는 B2B 플랫폼

### 1.3 계층 구조

```
                    ┌─────────────────┐
                    │      Admin      │
                    │  (최상위 관리자) │
                    └────────┬────────┘
                             │
                    ┌────────▼────────┐
                    │      총판       │
                    │  (Distributor)  │
                    └────────┬────────┘
                             │
                    ┌────────▼────────┐
                    │     대행사      │
                    │    (Agency)     │
                    └────────┬────────┘
                             │
                    ┌────────▼────────┐
                    │      셀러       │
                    │    (Seller)     │
                    └─────────────────┘
```

### 1.4 계층별 역할 및 권한

| 계층 | 역할 | 주요 권한 |
|------|------|----------|
| **Admin** | 시스템 최상위 관리자 | 전체 시스템 관리, 총판 관리, 정산, 통계, 시스템 설정 |
| **총판** | 지역/권역 총괄 | 대행사 관리, 포인트 지급, 대행사별 단가 설정, 미션 승인 |
| **대행사** | 마케팅 대행사 | 셀러 관리, 미션 승인/관리, 포인트 배분, 셀러별 단가 설정 |
| **셀러** | 광고주/판매자 | 미션 등록, 진행 현황 조회, 포인트 충전 요청 |

### 1.5 계층 간 관계

- **Admin** → 총판을 직접 생성/관리
- **총판** → 하위 대행사를 생성/관리, 포인트 지급
- **대행사** → 하위 셀러를 생성/관리, 포인트 지급
- **셀러** → 미션을 등록하고 대행사의 승인을 받아 진행

---

## 2. 지원 마케팅 유형

### 2.1 네이버 마케팅

| 유형 | 코드 | 설명 | 미션 형태 |
|------|------|------|----------|
| 네이버 쇼핑 | `naver_shopping` | 스마트스토어 순위 상승 | 검색 → 클릭 → 체류 → 구매 |
| 네이버 플레이스 | `naver_place` | 지도/플레이스 순위 | 검색 → 방문 → 저장 → 리뷰 |
| 네이버 블로그 | `naver_blog` | 블로그 포스팅/배포 | 키워드 최적화 포스팅 |

### 2.2 카카오 마케팅

| 유형 | 코드 | 설명 | 미션 형태 |
|------|------|------|----------|
| 카카오맵 | `kakao_map` | 카카오맵 순위 상승 | 검색 → 저장 → 길찾기 |

### 2.3 기타 마케팅

| 유형 | 코드 | 설명 |
|------|------|------|
| 오늘의집 | `ohouse` | 오늘의집 플랫폼 마케팅 |
| 네비게이션 | `navigation` | 네비게이션 앱 광고 |
| 최적블로그 | `optimal_blog` | 최적화된 블로그 마케팅 |
| 일반미션 | `general` | 커스텀 미션 |

### 2.4 마케팅 유형별 상태

| 상태 | 코드 | 설명 |
|------|------|------|
| 대기 | `pending` | 등록 후 승인 대기 |
| 승인 | `approved` | 승인 완료, 실행 대기 |
| 진행 | `running` | 미션 진행 중 |
| 일시중지 | `paused` | 일시 중지 |
| 완료 | `completed` | 미션 완료 |
| 반려 | `rejected` | 승인 거부 |
| 취소 | `cancelled` | 미션 취소 |

---

## 3. 핵심 기능 정의

### 3.1 공통 기능

모든 계층에서 사용 가능한 기능:

- 로그인/로그아웃
- 비밀번호 변경
- 공지사항 조회
- 마이페이지 (내 정보 수정)
- 포인트 잔액 조회

### 3.2 Admin 전용 기능

```
Admin
├── 대시보드
│   ├── 전체 매출 현황
│   ├── 미션 진행 현황 (유형별)
│   ├── 신규 가입 현황
│   └── 실시간 알림
│
├── 총판 관리
│   ├── 총판 목록 조회
│   ├── 총판 등록
│   ├── 총판 정보 수정
│   ├── 총판 삭제/비활성화
│   └── 총판별 단가 설정
│
├── 전체 사용자 관리
│   ├── 전체 사용자 조회 (계층별 필터)
│   └── 사용자 상세 정보
│
├── 전체 미션 관리
│   ├── 전체 미션 조회
│   ├── 미션 상태 일괄 변경
│   └── 미션 통계
│
├── 시스템 설정
│   ├── 마케팅 유형 관리
│   ├── 기본 단가 설정
│   ├── 공지사항 관리 (CRUD)
│   └── 시스템 환경 설정
│
├── 정산 관리
│   ├── 전체 정산 내역
│   ├── 총판별 정산
│   └── 정산 승인/처리
│
└── 통계/리포트
    ├── 매출 통계 (일/주/월/년)
    ├── 미션 현황 리포트
    ├── 사용자 통계
    └── 엑셀 다운로드
```

### 3.3 총판 기능

```
총판
├── 대시보드
│   ├── 관할 매출 현황
│   ├── 대행사별 실적
│   ├── 미션 현황
│   └── 포인트 현황
│
├── 대행사 관리
│   ├── 대행사 목록 조회
│   ├── 대행사 등록
│   ├── 대행사 정보 수정
│   ├── 대행사 삭제/비활성화
│   └── 대행사별 단가 설정
│
├── 포인트 관리
│   ├── 내 포인트 현황
│   ├── 포인트 충전 요청 (Admin에게)
│   ├── 대행사 포인트 지급
│   └── 포인트 내역 조회
│
├── 미션 관리
│   ├── 관할 미션 전체 조회
│   ├── 미션 상태 변경
│   └── 미션 상세 조회
│
└── 정산
    ├── 대행사별 정산 내역
    └── 정산 리포트
```

### 3.4 대행사 기능

```
대행사
├── 대시보드
│   ├── 매출 현황
│   ├── 셀러별 실적
│   ├── 미션 현황
│   └── 포인트 현황
│
├── 셀러 관리
│   ├── 셀러 목록 조회
│   ├── 셀러 등록
│   ├── 셀러 정보 수정
│   ├── 셀러 삭제/비활성화
│   └── 셀러별 단가 설정
│
├── 미션 관리
│   ├── 미션 목록 조회 (상태별 필터)
│   ├── 미션 승인/반려
│   ├── 미션 상태 변경
│   ├── 미션 상세 조회/수정
│   └── 대량 미션 등록 (엑셀)
│
├── 포인트 관리
│   ├── 내 포인트 현황
│   ├── 포인트 충전 요청 (총판에게)
│   ├── 셀러 포인트 지급
│   └── 포인트 내역 조회
│
└── 정산
    ├── 셀러별 정산 내역
    └── 정산 리포트
```

### 3.5 셀러 기능

```
셀러
├── 대시보드
│   ├── 내 미션 현황
│   ├── 진행 중인 미션
│   ├── 포인트 잔액
│   └── 최근 활동
│
├── 미션 접수
│   ├── 네이버 쇼핑 미션 등록
│   ├── 네이버 플레이스 미션 등록
│   ├── 카카오맵 미션 등록
│   ├── 블로그 미션 등록
│   └── 기타 미션 등록
│
├── 미션 관리
│   ├── 내 미션 목록
│   ├── 미션 상세 조회
│   ├── 미션 수정 (대기 상태만)
│   ├── 미션 취소 요청
│   └── 미션 진행 현황
│
├── 포인트
│   ├── 포인트 잔액 조회
│   ├── 포인트 충전 요청
│   └── 포인트 사용 내역
│
└── 정산
    └── 내 정산 내역 조회
```

---

## 4. 데이터베이스 설계

### 4.1 테이블 목록

| 테이블명 | 설명 |
|----------|------|
| `users` | 사용자 정보 (모든 계층 통합) |
| `missions` | 마케팅 미션 정보 |
| `mission_keywords` | 미션별 키워드 |
| `mission_logs` | 미션 실행/상태 로그 |
| `points` | 포인트 거래 내역 |
| `settlements` | 정산 내역 |
| `notices` | 공지사항 |
| `price_settings` | 단가 설정 |
| `system_settings` | 시스템 설정 |

### 4.2 Users 테이블

```sql
CREATE TABLE users (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    username        VARCHAR(50) UNIQUE NOT NULL,      -- 로그인 아이디
    password        VARCHAR(255) NOT NULL,            -- 암호화된 비밀번호
    role            ENUM('admin', 'distributor', 'agency', 'seller') NOT NULL,
    parent_id       BIGINT NULL,                      -- 상위 계층 ID
    company_name    VARCHAR(100) NOT NULL,            -- 업체명
    representative  VARCHAR(50),                      -- 대표자명
    business_number VARCHAR(20),                      -- 사업자번호
    phone           VARCHAR(20),                      -- 연락처
    email           VARCHAR(100),                     -- 이메일
    balance         DECIMAL(15,2) DEFAULT 0,          -- 포인트 잔액
    is_active       BOOLEAN DEFAULT TRUE,             -- 활성화 여부
    memo            TEXT,                             -- 메모
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    last_login_at   DATETIME,
    
    FOREIGN KEY (parent_id) REFERENCES users(id)
);
```

### 4.3 Missions 테이블

```sql
CREATE TABLE missions (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id         BIGINT NOT NULL,                  -- 등록자 (셀러)
    approved_by     BIGINT,                           -- 승인자
    
    -- 미션 유형
    type            ENUM('naver_shopping', 'naver_place', 'kakao_map', 
                         'naver_blog', 'ohouse', 'navigation', 
                         'optimal_blog', 'general') NOT NULL,
    
    -- 상태
    status          ENUM('pending', 'approved', 'running', 'paused', 
                         'completed', 'rejected', 'cancelled') DEFAULT 'pending',
    
    -- 상품 정보
    product_name    VARCHAR(200) NOT NULL,            -- 상품명
    product_url     VARCHAR(500),                     -- 상품 URL
    place_id        VARCHAR(50),                      -- 플레이스 ID
    mid             VARCHAR(50),                      -- 원부 MID
    mid_single      VARCHAR(50),                      -- 단품 MID
    
    -- 미션 설정
    daily_count     INT NOT NULL,                     -- 일일 유입수
    start_date      DATE NOT NULL,                    -- 시작일
    end_date        DATE NOT NULL,                    -- 종료일
    total_days      INT,                              -- 총 일수
    
    -- 비용
    unit_price      DECIMAL(10,2) NOT NULL,           -- 건당 단가
    total_price     DECIMAL(15,2) NOT NULL,           -- 총 비용
    
    -- 기타
    memo            TEXT,                             -- 메모
    reject_reason   TEXT,                             -- 반려 사유
    
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    approved_at     DATETIME,
    completed_at    DATETIME,
    
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (approved_by) REFERENCES users(id)
);
```

### 4.4 Mission Keywords 테이블

```sql
CREATE TABLE mission_keywords (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    mission_id      BIGINT NOT NULL,
    keyword         VARCHAR(100) NOT NULL,            -- 키워드
    is_main         BOOLEAN DEFAULT FALSE,            -- 메인 키워드 여부
    current_rank    INT,                              -- 현재 순위
    target_rank     INT,                              -- 목표 순위
    
    FOREIGN KEY (mission_id) REFERENCES missions(id) ON DELETE CASCADE
);
```

### 4.5 Points 테이블

```sql
CREATE TABLE points (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id         BIGINT NOT NULL,                  -- 사용자
    
    type            ENUM('charge', 'charge_request', 'charge_approve',
                         'use', 'distribute', 'refund') NOT NULL,
    
    amount          DECIMAL(15,2) NOT NULL,           -- 금액
    balance_before  DECIMAL(15,2) NOT NULL,           -- 거래 전 잔액
    balance_after   DECIMAL(15,2) NOT NULL,           -- 거래 후 잔액
    
    related_user_id BIGINT,                           -- 관련 사용자 (지급/수령)
    related_mission_id BIGINT,                        -- 관련 미션
    
    description     VARCHAR(200),                     -- 설명
    status          ENUM('pending', 'completed', 'rejected') DEFAULT 'completed',
    
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    processed_at    DATETIME,
    processed_by    BIGINT,
    
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (related_user_id) REFERENCES users(id),
    FOREIGN KEY (related_mission_id) REFERENCES missions(id)
);
```

### 4.6 Price Settings 테이블

```sql
CREATE TABLE price_settings (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id         BIGINT NOT NULL,                  -- 설정 주체
    target_user_id  BIGINT,                           -- 대상 사용자 (NULL이면 기본 단가)
    mission_type    VARCHAR(50) NOT NULL,             -- 미션 유형
    unit_price      DECIMAL(10,2) NOT NULL,           -- 단가
    
    is_default      BOOLEAN DEFAULT FALSE,            -- 기본 단가 여부
    
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (target_user_id) REFERENCES users(id),
    
    UNIQUE KEY unique_price (user_id, target_user_id, mission_type)
);
```

### 4.7 ERD 다이어그램

```
┌─────────────────┐       ┌─────────────────┐
│     users       │       │    missions     │
├─────────────────┤       ├─────────────────┤
│ id              │───┐   │ id              │
│ username        │   │   │ user_id         │───┐
│ password        │   │   │ approved_by     │   │
│ role            │   │   │ type            │   │
│ parent_id       │◄──┘   │ status          │   │
│ company_name    │       │ product_name    │   │
│ balance         │       │ ...             │   │
│ ...             │       └────────┬────────┘   │
└────────┬────────┘                │            │
         │                         │            │
         │       ┌─────────────────┘            │
         │       │                              │
         ▼       ▼                              │
┌─────────────────┐       ┌─────────────────┐   │
│     points      │       │mission_keywords │   │
├─────────────────┤       ├─────────────────┤   │
│ id              │       │ id              │   │
│ user_id         │◄──────│ mission_id      │   │
│ type            │       │ keyword         │   │
│ amount          │       │ is_main         │   │
│ ...             │       │ ...             │   │
└─────────────────┘       └─────────────────┘   │
                                                │
┌─────────────────┐       ┌─────────────────┐   │
│ price_settings  │       │    notices      │   │
├─────────────────┤       ├─────────────────┤   │
│ id              │       │ id              │   │
│ user_id         │◄──────│ user_id         │◄──┘
│ target_user_id  │       │ title           │
│ mission_type    │       │ content         │
│ unit_price      │       │ ...             │
└─────────────────┘       └─────────────────┘
```

---

## 5. 화면 설계

### 5.1 URL 라우팅 구조

```
/
├── /login                              # 로그인 페이지
│
├── /dashboard                          # 대시보드 (역할별 다른 내용)
│
├── /users                              # 사용자 관리
│   ├── /users/distributors             # 총판 관리 (Admin만)
│   ├── /users/agencies                 # 대행사 관리 (Admin, 총판)
│   ├── /users/sellers                  # 셀러 관리 (Admin, 총판, 대행사)
│   └── /users/[id]                     # 사용자 상세
│
├── /missions                           # 미션 관리
│   ├── /missions/list                  # 미션 목록
│   ├── /missions/new                   # 미션 등록
│   │   ├── /missions/new/naver-shopping    # 네이버 쇼핑
│   │   ├── /missions/new/naver-place       # 네이버 플레이스
│   │   ├── /missions/new/kakao-map         # 카카오맵
│   │   ├── /missions/new/blog              # 블로그
│   │   └── /missions/new/general           # 일반 미션
│   ├── /missions/[id]                  # 미션 상세
│   └── /missions/[id]/edit             # 미션 수정
│
├── /points                             # 포인트 관리
│   ├── /points/balance                 # 잔액 조회
│   ├── /points/charge                  # 충전 요청
│   ├── /points/distribute              # 포인트 지급 (상위 계층)
│   ├── /points/history                 # 내역 조회
│   └── /points/requests                # 충전 요청 관리 (상위 계층)
│
├── /settlements                        # 정산 관리
│   ├── /settlements/list               # 정산 내역
│   └── /settlements/[id]               # 정산 상세
│
├── /notices                            # 공지사항
│   ├── /notices/list                   # 목록
│   ├── /notices/new                    # 등록 (Admin)
│   └── /notices/[id]                   # 상세
│
├── /settings                           # 설정 (Admin)
│   ├── /settings/prices                # 단가 설정
│   ├── /settings/mission-types         # 미션 유형 관리
│   └── /settings/system                # 시스템 설정
│
└── /profile                            # 마이페이지
    ├── /profile/info                   # 내 정보
    └── /profile/password               # 비밀번호 변경
```

### 5.2 레이아웃 구조

```
┌──────────────────────────────────────────────────────────────────────┐
│                              Header                                   │
│  ┌──────┐                                    ┌─────────────────────┐  │
│  │ Logo │                                    │ 1,000,000P │ 홍길동 │  │
│  └──────┘                                    └─────────────────────┘  │
├────────────────┬─────────────────────────────────────────────────────┤
│                │                                                     │
│    Sidebar     │                    Main Content                     │
│    (240px)     │                                                     │
│                │  ┌─────────────────────────────────────────────┐    │
│  ┌──────────┐  │  │  Page Header                                │    │
│  │대시보드  │  │  │  ┌─────────────────┐    ┌──────────────┐   │    │
│  └──────────┘  │  │  │ 페이지 제목     │    │ + 신규 등록  │   │    │
│                │  │  └─────────────────┘    └──────────────┘   │    │
│  ┌──────────┐  │  └─────────────────────────────────────────────┘    │
│  │사용자    │  │                                                     │
│  │ ├ 총판   │  │  ┌─────────────────────────────────────────────┐    │
│  │ ├ 대행사 │  │  │  Filter Area                                │    │
│  │ └ 셀러   │  │  │  [상태 ▼] [유형 ▼] [기간 ▼] [검색] [초기화]│    │
│  └──────────┘  │  └─────────────────────────────────────────────┘    │
│                │                                                     │
│  ┌──────────┐  │  ┌─────────────────────────────────────────────┐    │
│  │미션 관리 │  │  │  Data Table                                 │    │
│  │ ├ 목록   │  │  │  ┌─────────────────────────────────────┐    │    │
│  │ └ 등록   │  │  │  │ □ │ 번호 │ 유형 │ 상태 │ ... │ 관리│    │    │
│  └──────────┘  │  │  ├─────────────────────────────────────┤    │    │
│                │  │  │   │      │      │      │     │     │    │    │
│  ┌──────────┐  │  │  │   │      │      │      │     │     │    │    │
│  │포인트    │  │  │  │   │      │      │      │     │     │    │    │
│  │ ├ 충전   │  │  │  └─────────────────────────────────────┘    │    │
│  │ ├ 지급   │  │  └─────────────────────────────────────────────┘    │
│  │ └ 내역   │  │                                                     │
│  └──────────┘  │  ┌─────────────────────────────────────────────┐    │
│                │  │  Pagination                                 │    │
│  ┌──────────┐  │  │  [◀ 이전] [1] [2] [3] ... [다음 ▶]         │    │
│  │정산      │  │  └─────────────────────────────────────────────┘    │
│  └──────────┘  │                                                     │
│                │                                                     │
│  ┌──────────┐  │                                                     │
│  │공지사항  │  │                                                     │
│  └──────────┘  │                                                     │
│                │                                                     │
│  ┌──────────┐  │                                                     │
│  │설정      │  │                                                     │
│  └──────────┘  │                                                     │
│                │                                                     │
└────────────────┴─────────────────────────────────────────────────────┘
```

### 5.3 주요 화면 상세

#### 5.3.1 로그인 화면

| 요소 | 설명 |
|------|------|
| 로고 | 서비스 로고 (중앙 상단) |
| 아이디 입력 | 텍스트 입력 필드 |
| 비밀번호 입력 | 패스워드 입력 필드 |
| 아이디 기억하기 | 체크박스 |
| 로그인 버튼 | 그라데이션 버튼 |

#### 5.3.2 대시보드

**Admin 대시보드:**
- 전체 매출 그래프 (일/주/월)
- 미션 현황 카드 (유형별 진행/완료/대기)
- 최근 가입 사용자 목록
- 최근 미션 목록
- 알림 목록

**총판/대행사 대시보드:**
- 관할 매출 현황
- 하위 계정 실적
- 미션 현황 요약
- 포인트 현황

**셀러 대시보드:**
- 내 미션 현황 (진행/완료/대기)
- 포인트 잔액
- 최근 미션 목록
- 공지사항

#### 5.3.3 미션 등록 폼

**네이버 쇼핑 미션:**

| 필드명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| 상품명 | text | O | 상품 이름 |
| 상품 URL | url | O | 스마트스토어 상품 링크 |
| 원부 MID | text | O | 상품의 원부 MID |
| 단품 MID | text | - | 옵션 상품의 단품 MID |
| 메인 키워드 | text | O | 주요 타겟 키워드 |
| 서브 키워드 | textarea | - | 추가 키워드 (줄바꿈 구분) |
| 일일 유입수 | number | O | 하루 목표 트래픽 |
| 시작일 | date | O | 미션 시작 날짜 |
| 종료일 | date | O | 미션 종료 날짜 |
| 메모 | textarea | - | 특이사항 기재 |

**네이버 플레이스 미션:**

| 필드명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| 업체명 | text | O | 플레이스 업체명 |
| 플레이스 URL | url | O | 네이버 플레이스 링크 |
| 플레이스 ID | text | O | 플레이스 고유 ID |
| 메인 키워드 | text | O | 검색 키워드 |
| 미션 유형 | select | O | 방문/저장/길찾기/리뷰 |
| 일일 수량 | number | O | 일일 미션 수량 |
| 시작일 | date | O | 시작 날짜 |
| 종료일 | date | O | 종료 날짜 |
| 메모 | textarea | - | 특이사항 |

#### 5.3.4 미션 목록 화면

**필터 옵션:**
- 상태: 전체 / 대기 / 승인 / 진행 / 완료 / 반려
- 유형: 전체 / 네이버쇼핑 / 네이버플레이스 / 카카오맵 / 블로그 / 기타
- 기간: 오늘 / 이번주 / 이번달 / 직접입력
- 검색: 상품명, 키워드, 등록자

**테이블 컬럼:**
| 컬럼 | 설명 |
|------|------|
| 체크박스 | 일괄 선택 |
| 번호 | 미션 ID |
| 유형 | 마케팅 유형 (아이콘 + 텍스트) |
| 상품명/업체명 | 상품 또는 업체 이름 |
| 키워드 | 메인 키워드 |
| 상태 | 상태 뱃지 |
| 일유입 | 일일 목표 |
| 기간 | 시작일 ~ 종료일 |
| 등록자 | 셀러명 |
| 등록일 | 등록 일시 |
| 관리 | 상세/수정/삭제 버튼 |

---

## 6. 포인트/캐시 시스템

### 6.1 포인트 흐름

```
┌─────────────────────────────────────────────────────────────────┐
│                        포인트 흐름도                             │
└─────────────────────────────────────────────────────────────────┘

    ┌─────────┐
    │  Admin  │ ← 포인트 발행 (무제한)
    └────┬────┘
         │
         │ 포인트 지급
         ▼
    ┌─────────┐
    │  총판   │ ← 마진 설정 가능
    └────┬────┘
         │
         │ 포인트 지급
         ▼
    ┌─────────┐
    │ 대행사  │ ← 마진 설정 가능
    └────┬────┘
         │
         │ 포인트 지급
         ▼
    ┌─────────┐
    │  셀러   │
    └────┬────┘
         │
         │ 포인트 사용
         ▼
    ┌─────────┐
    │  미션   │ (미션 비용 차감)
    └─────────┘
```

### 6.2 포인트 거래 유형

| 유형 | 코드 | 설명 | 잔액 변화 |
|------|------|------|----------|
| 충전 요청 | `charge_request` | 포인트 충전 요청 | 변화 없음 |
| 충전 승인 | `charge_approve` | 충전 요청 승인 | +증가 |
| 사용 | `use` | 미션 등록 시 차감 | -감소 |
| 지급 | `distribute` | 하위 계층에 지급 | -감소 |
| 수령 | `receive` | 상위 계층에서 수령 | +증가 |
| 환불 | `refund` | 미션 취소 시 환불 | +증가 |

### 6.3 단가 체계

```
┌─────────────────────────────────────────────────────────────────┐
│                        단가 체계                                 │
└─────────────────────────────────────────────────────────────────┘

    Admin 기본 단가: 100원/건
           │
           ▼
    총판 → 대행사 단가: 120원/건 (마진 20원)
           │
           ▼
    대행사 → 셀러 단가: 150원/건 (마진 30원)
           │
           ▼
    셀러 적용 단가: 150원/건
```

### 6.4 단가 설정 규칙

1. **Admin**: 마케팅 유형별 기본 단가 설정
2. **총판**: 
   - 기본 단가 이상으로 대행사별 단가 설정
   - 마진 = 대행사 단가 - 기본 단가
3. **대행사**: 
   - 총판 단가 이상으로 셀러별 단가 설정
   - 마진 = 셀러 단가 - 총판 단가
4. **셀러**: 
   - 대행사가 설정한 단가로 미션 비용 계산

---

## 7. 기술 스택

### 7.1 Frontend

| 기술 | 버전 | 용도 |
|------|------|------|
| Next.js | 14+ | React 프레임워크 (App Router) |
| TypeScript | 5+ | 타입 안정성 |
| Tailwind CSS | 3+ | 스타일링 |
| Zustand | 4+ | 상태 관리 |
| React Hook Form | 7+ | 폼 관리 |
| Zod | 3+ | 스키마 검증 |
| TanStack Table | 8+ | 테이블 컴포넌트 |
| TanStack Query | 5+ | 서버 상태 관리 |
| Lucide React | - | 아이콘 |
| Recharts | - | 차트 |
| date-fns | - | 날짜 처리 |
| xlsx | - | 엑셀 처리 |

### 7.2 UI 컴포넌트

| 컴포넌트 | 라이브러리 |
|----------|-----------|
| 기본 UI | shadcn/ui (Radix UI 기반) |
| 알림 | Sonner (Toast) |
| 모달 | Radix Dialog |
| 드롭다운 | Radix Dropdown Menu |
| 날짜 선택 | React Day Picker |

### 7.3 Backend (향후 구현)

| 기술 | 용도 |
|------|------|
| Node.js | 런타임 |
| Next.js API Routes | API 서버 |
| Prisma | ORM |
| PostgreSQL / MySQL | 데이터베이스 |
| NextAuth.js | 인증 |
| JWT | 토큰 인증 |

### 7.4 디자인 시스템

**컬러:**
```css
/* Primary - 보라색/파란색 그라데이션 */
--primary: linear-gradient(135deg, #8B5CF6, #3B82F6);
--primary-purple: #8B5CF6;
--primary-blue: #3B82F6;

/* Status */
--status-pending: #F59E0B;    /* 대기 - 주황색 */
--status-approved: #10B981;   /* 승인 - 녹색 */
--status-running: #3B82F6;    /* 진행 - 파란색 */
--status-completed: #6B7280;  /* 완료 - 회색 */
--status-rejected: #EF4444;   /* 반려 - 빨간색 */

/* Background */
--bg-primary: #FFFFFF;
--bg-secondary: #F9FAFB;
--bg-sidebar: #1F2937;

/* Text */
--text-primary: #111827;
--text-secondary: #6B7280;
--text-inverse: #FFFFFF;

/* Border */
--border: #E5E7EB;
```

**컴포넌트:**
- 버튼: 그라데이션 Primary, 아웃라인 Secondary, Ghost
- 카드: 흰색 배경, 둥근 모서리(12px), 그림자
- 테이블: 호버 효과, 줄무늬 배경
- 입력: 둥근 모서리(8px), 포커스 링
- 뱃지: 상태별 색상, 둥근 모서리

---

## 8. 개발 단계

### Phase 1: 기반 구축 (1주)

- [ ] 프로젝트 초기화 (Next.js + TypeScript + Tailwind)
- [ ] 디자인 시스템 구축
  - [ ] 컬러 팔레트 정의
  - [ ] 타이포그래피 설정
  - [ ] 기본 컴포넌트 (Button, Input, Card 등)
- [ ] 레이아웃 컴포넌트
  - [ ] Sidebar
  - [ ] Header
  - [ ] MainLayout
- [ ] 로그인 페이지
- [ ] 라우팅 설정 및 미들웨어

### Phase 2: 사용자 관리 (1주)

- [ ] 사용자 목록 페이지
  - [ ] 테이블 컴포넌트
  - [ ] 필터 컴포넌트
  - [ ] 페이지네이션
- [ ] 사용자 등록/수정 폼
- [ ] 사용자 상세 페이지
- [ ] 계층별 권한 처리
- [ ] 단가 설정 기능

### Phase 3: 미션 관리 (2주)

- [ ] 미션 목록 페이지
  - [ ] 다양한 필터 (상태, 유형, 기간)
  - [ ] 검색 기능
  - [ ] 일괄 작업
- [ ] 미션 등록 폼 (유형별)
  - [ ] 네이버 쇼핑
  - [ ] 네이버 플레이스
  - [ ] 카카오맵
  - [ ] 블로그
  - [ ] 일반 미션
- [ ] 미션 상세/수정 페이지
- [ ] 미션 상태 관리
- [ ] 미션 승인/반려 기능

### Phase 4: 포인트/정산 (1주)

- [ ] 포인트 현황 페이지
- [ ] 포인트 충전 요청
- [ ] 포인트 충전 승인 (상위 계층)
- [ ] 포인트 지급 기능
- [ ] 포인트 내역 조회
- [ ] 정산 관리 페이지

### Phase 5: 부가 기능 (1주)

- [ ] 대시보드
  - [ ] 통계 카드
  - [ ] 차트 (매출, 미션 현황)
  - [ ] 최근 활동
- [ ] 공지사항 관리
- [ ] 엑셀 업로드/다운로드
- [ ] 알림 시스템
- [ ] 마이페이지

### Phase 6: 테스트 및 최적화 (1주)

- [ ] 기능 테스트
- [ ] UI/UX 개선
- [ ] 성능 최적화
- [ ] 반응형 대응
- [ ] 배포 준비

---

## 부록

### A. 참고 분석 문서

- [RewardPop 분석](RewardPop_Analysis_Document.md)
- [10k 분석](10k_Analysis_Document.md)
- [LikeReward 분석](LikeReward_Analysis_Document.md)

### B. 용어 정의

| 용어 | 설명 |
|------|------|
| MID | 네이버 쇼핑 상품 고유 ID |
| 플레이스 ID | 네이버 플레이스 업체 고유 ID |
| 일유입 | 하루에 목표로 하는 트래픽/유입 수 |
| 단가 | 건당 비용 |
| 마진 | 상위 계층과 하위 계층 간 단가 차이 |

### C. 버전 히스토리

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0 | 2025-12-10 | 최초 작성 |

---

*본 기획서는 RewardPop, 10k, LikeReward 분석을 기반으로 작성되었습니다.*




