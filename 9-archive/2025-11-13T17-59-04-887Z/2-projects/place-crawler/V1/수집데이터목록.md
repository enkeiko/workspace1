# 📊 네이버 플레이스 크롤러 V1 - 수집 데이터 목록

> 이 문서는 Place Crawler V1이 네이버 플레이스에서 수집하는 모든 데이터 항목을 상세히 설명합니다.

## 목차
- [1. 기본 정보](#1-기본-정보)
- [2. 메뉴 정보](#2-메뉴-정보)
- [3. 리뷰 정보](#3-리뷰-정보)
- [4. 이미지 컬렉션](#4-이미지-컬렉션)
- [5. 편의시설 및 서비스](#5-편의시설-및-서비스)
- [6. 메타 정보](#6-메타-정보)
- [7. 실제 수집 예시](#7-실제-수집-예시)
- [8. JSON 구조](#8-json-구조)

---

## 1. 기본 정보

플레이스의 핵심 정보를 수집합니다.

| 항목 | 설명 | 예시 |
|------|------|------|
| **id** | 플레이스 고유 ID | `"1768171911"` |
| **name** | 상호명 | `"히도"` |
| **category** | 업종 카테고리 | `"돈가스"` |
| **roadAddress** | 도로명 주소 | `"경남 창원시 마산회원구 산호천동길 226 1층"` |
| **address** | 지번 주소 | `"경남 창원시 마산회원구 양덕동 7-62"` |
| **phone** | 전화번호 | `"스마트콜 사용"` 또는 실제 번호 |
| **virtualPhone** | 가상전화번호 | `null` 또는 번호 |
| **talktalkUrl** | 톡톡 URL | `"http://talk.naver.com/wtqz6m1?frm=mnmb"` |
| **coordinate** | 좌표 (위도/경도) | `{ lat: "35.2348228", lng: "128.5813429" }` |

### 특이사항
- **전화번호**: 스마트콜 시스템 사용 시 "스마트콜 사용"으로 표시
- **좌표**: 네이버 지도 좌표계 (WGS84)

---

## 2. 메뉴 정보

메뉴 데이터는 **최대 50개**까지 수집하며, 각 메뉴마다 상세 정보를 포함합니다.

### 2-1. 개별 메뉴 데이터

| 항목 | 설명 | 예시 |
|------|------|------|
| **name** | 메뉴명 | `"모둠카츠"` |
| **price** | 가격 (숫자) | `"15000"` |
| **priceFormatted** | 가격 (포맷팅) | `"15,000원"` |
| **description** | 메뉴 설명 | `"로스 +히레+치즈 모두 맛보는 메뉴!"` |
| **recommend** | 추천 메뉴 여부 | `true` / `false` |
| **images** | 메뉴 이미지 URL 배열 | `["https://ldb-phinf.pstatic.net/..."]` |

### 2-2. 메뉴 요약 통계 (menuSummary)

| 항목 | 설명 | 예시 |
|------|------|------|
| **total** | 총 메뉴 개수 | `23` |
| **recommended** | 추천 메뉴 개수 | `5` |
| **priceRange.min** | 최저가 | `3000` |
| **priceRange.max** | 최고가 | `18000` |
| **list** | 전체 메뉴 배열 | `[...]` |

---

## 3. 리뷰 정보

리뷰는 **통계**, **블로그 리뷰 전문**, **요약**으로 구분하여 수집합니다.

### 3-1. 리뷰 통계 (reviewStats)

| 항목 | 설명 | 예시 |
|------|------|------|
| **total** | 총 리뷰 개수 | `708` |
| **textTotal** | 텍스트 리뷰 개수 | `623` |
| **score** | 평점 (별점) | `4.5` |
| **microReviews** | 한줄평 배열 | `["입에서 사르르 녹는 부드러운 히레카츠"]` |

### 3-2. 블로그 리뷰 (blogReviews) - 최대 10개

| 항목 | 설명 | 예시 |
|------|------|------|
| **id** | 리뷰 고유 ID | `"blog_멍석 깔아주면 누워자는 블로그_224037921406..."` |
| **title** | 리뷰 제목 | `"[마산 맛집] 히도: 합성동 돈까스 맛집..."` |
| **contents** | 리뷰 전체 내용 (풀텍스트) | `"마산에서 돈까스 땡길 때는..."` (전문) |
| **author** | 작성자 블로그 URL | `"https://m.blog.naver.com/ssj2151"` |
| **date** | 작성일 | `"3일 전"` 또는 `"2025.10.11."` |
| **url** | 리뷰 URL | `"https://m.blog.naver.com/..."` |
| **images** | 리뷰 이미지 배열 | `[]` |
| **tags** | 해시태그 배열 | `[]` |
| **rank** | 순위 | `"1"` |

### 3-3. 리뷰 요약 (reviewSummaries) - 3개

| 항목 | 설명 | 예시 |
|------|------|------|
| **author** | 작성자 | `"https://m.blog.naver.com/ssj2151"` |
| **preview** | 내용 미리보기 (200자) | `"마산에서 돈까스 땡길 때는 여기로..."` |
| **date** | 작성일 | `"3일 전"` |

---

## 4. 이미지 컬렉션

이미지는 카테고리별로 자동 분류되어 수집됩니다.

### 4-1. 이미지 카테고리

| 카테고리 | 설명 | 개수 예시 |
|----------|------|-----------|
| **images.menu** | 메뉴 이미지 (메뉴판, 음식 사진) | `22개` |
| **images.interior** | 인테리어 이미지 (내부 사진) | `0개` |
| **images.food** | 음식 이미지 | `0개` |
| **images.all** | 모든 이미지 | `22개` |

### 4-2. 개별 이미지 데이터

| 항목 | 설명 | 예시 |
|------|------|------|
| **url** | 이미지 URL | `"https://ldb-phinf.pstatic.net/..."` |
| **description** | 설명/이름 | `"모둠카츠"` |
| **category** | 카테고리 | `"MENU"` |

---

## 5. 편의시설 및 서비스

### 5-1. 편의시설 (facilities.conveniences)

배열 형식으로 제공됩니다.

**예시:**
```json
[
  "포장",
  "배달",
  "무선 인터넷",
  "예약",
  "유아의자"
]
```

### 5-2. 결제 정보 (facilities.paymentInfo)

**예시:**
```json
[
  "소비쿠폰(신용·체크카드)",
  "제로페이"
]
```

### 5-3. 주차 정보 (facilities.parkingInfo)

텍스트 형식으로 제공됩니다.

**예시:**
```
"마산 삼일교회 맞은편에 있습니다.
주차장이 따로 없어서 갓길에 주차하시거나
인근 유료주차장 주차시 주차권 보여주시면 1000원 지원해드립니다~"
```

---

## 6. 메타 정보

수집 작업과 관련된 메타데이터입니다.

| 항목 | 설명 | 예시 |
|------|------|------|
| **url** | 네이버 플레이스 URL | `"https://map.naver.com/p/entry/place/1768171911"` |
| **collectedAt** | 수집 일시 (ISO 8601) | `"2025-10-21T16:37:39.584Z"` |

---

## 7. 실제 수집 예시

### "히도" 돈가스집 (ID: 1768171911)

#### 수집 결과 통계
- ✅ **23개 메뉴** (가격: 3,000원 ~ 18,000원)
- ✅ **5개 추천 메뉴**
- ✅ **3개 블로그 리뷰** (전문 수집)
- ✅ **708개 리뷰 통계** (텍스트 623개)
- ✅ **22개 이미지** (모두 메뉴 사진)
- ✅ **5개 편의시설**
- ✅ **2개 결제수단**

#### 메뉴 예시

1. **모둠카츠** - 15,000원 👍 추천
   - 설명: "로스 +히레+치즈 모두 맛보는 메뉴!"
   - 이미지: 1장

2. **로스카츠** - 12,000원 👍 추천
   - 이미지: 1장

3. **히레카츠** - 13,000원 👍 추천
   - 이미지: 1장

#### 블로그 리뷰 예시

**제목:** "[마산 맛집] 히도: 합성동 돈까스 맛집, 특로스카츠 이거 실화냐?"

**작성자:** https://m.blog.naver.com/ssj2151

**내용 (일부):**
> "마산에서 돈까스 땡길 때는 여기로 가야 합니다. 히도, 이름부터 뭔가 일본 감성 뿜뿜인데 맛은 진짜 제대로예요..."

**전문:** 약 1,500자 이상의 상세 리뷰 전문 수집

---

## 8. JSON 구조

### 최상위 구조

```json
{
  "id": "플레이스 ID",
  "name": "상호명",
  "category": "카테고리",
  "roadAddress": "도로명 주소",
  "address": "지번 주소",
  "phone": "전화번호",
  "virtualPhone": "가상전화번호",
  "talktalkUrl": "톡톡 URL",
  "coordinate": {
    "lat": "위도",
    "lng": "경도"
  },
  "menuSummary": {
    "total": 메뉴_개수,
    "recommended": 추천_메뉴_개수,
    "priceRange": {
      "min": 최저가,
      "max": 최고가
    },
    "list": [메뉴_배열]
  },
  "menus": [메뉴_배열_최대_50개],
  "reviewStats": {
    "total": 총_리뷰_개수,
    "textTotal": 텍스트_리뷰_개수,
    "score": 평점,
    "microReviews": [한줄평_배열]
  },
  "blogReviews": [블로그_리뷰_배열_최대_10개],
  "reviewSummaries": [리뷰_요약_배열_3개],
  "images": {
    "menu": [메뉴_이미지_배열],
    "interior": [인테리어_이미지_배열],
    "food": [음식_이미지_배열],
    "all": [전체_이미지_배열]
  },
  "facilities": {
    "conveniences": [편의시설_배열],
    "paymentInfo": [결제정보_배열],
    "parkingInfo": "주차_정보_텍스트"
  },
  "url": "네이버_플레이스_URL",
  "collectedAt": "수집_일시_ISO8601"
}
```

### 파일 저장 형식

수집된 데이터는 다음 형식으로 저장됩니다:

1. **`place-{플레이스ID}-apollo.json`** - 원본 Apollo State 데이터
2. **`place-{플레이스ID}-FULL.json`** - 파싱된 완전한 데이터 (위 구조)

**저장 위치:** `./places-advanced/`

---

## 📌 데이터 활용 방법

### 1. 단일 플레이스 정보 확인
```bash
node run-scraper.js <플레이스ID>
```

### 2. 배치 수집
```bash
node batch-scraper.js <ID1> <ID2> <ID3>
```

### 3. GUI로 수집
```bash
node gui-server.js
# 브라우저에서 http://localhost:3000 접속
```

### 4. JSON 파일 직접 읽기
```javascript
const fs = require('fs');
const data = JSON.parse(fs.readFileSync('./places-advanced/place-1768171911-FULL.json', 'utf-8'));

console.log(data.name);  // "히도"
console.log(data.menus.length);  // 23
console.log(data.blogReviews[0].contents);  // 첫 번째 리뷰 전문
```

---

## 🔍 데이터 품질 보장

### 수집되는 데이터의 특징
- ✅ **완전성**: Apollo State의 모든 정보 추출
- ✅ **정확성**: 실제 네이버 플레이스와 100% 일치
- ✅ **풍부함**: 메뉴 설명, 리뷰 전문, 이미지 URL 모두 포함
- ✅ **구조화**: JSON 형식으로 깔끔하게 정리
- ✅ **안정성**: 자동 재시도, 브라우저 재시작 기능

### 제한사항
- 메뉴: 최대 50개까지 수집
- 블로그 리뷰: 최대 10개 전문 수집
- 리뷰 요약: 3개만 제공
- 이미지: URL만 수집 (실제 파일 다운로드는 별도 구현 필요)

---

## 📞 문의 및 지원

데이터 수집 관련 문제가 발생하면:
1. [README.md](README.md) 참고
2. [COMPLETE-GUIDE.md](COMPLETE-GUIDE.md) 상세 가이드 확인
3. `run-scraper.js`의 자동 재시도 기능 활용

---

**문서 버전:** V1.0
**최종 업데이트:** 2025-10-22
**작성자:** Place Crawler V1
