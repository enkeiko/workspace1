# 🚀 Place Crawler V1 - 업데이트 내역

## 2025-10-22 업데이트

### ✨ 새로운 기능

#### 1. 📊 L1 데이터 수집 및 정렬 모듈
네이버 플레이스 크롤러로 수집한 원본 데이터를 분석 가능한 형태로 변환하는 L1 프로세서가 추가되었습니다.

**주요 기능:**
- 크롤러 JSON 파일 자동 스캔 및 로딩
- 주소 파싱 (시/구/동/역 자동 추출)
- 키워드 요소 분류 (카테고리, 지역, 메뉴, 속성)
- 데이터 완성도 평가 (115점 만점)
- 현재 키워드 성능 분석
- 우선순위 자동 정렬
- 3개의 JSON 파일로 결과 저장

**파일 구조:**
```
V1/
├── l1-processor.js         # L1 처리 로직
├── data/
│   ├── input/
│   │   ├── current_keywords.json    # 현재 키워드 (권장)
│   │   ├── manual_notes.json        # 수동 메모 (선택)
│   │   └── competitors.json         # 경쟁사 정보 (선택)
│   └── output/
│       └── l1/
│           ├── data_collected_l1.json      # 전체 수집 데이터
│           ├── keyword_elements_l1.json    # 키워드 요소
│           └── current_keywords_l1.json    # 현재 키워드 분석
```

#### 2. 🔍 실시간 디버그 로그 시스템
모든 작업 과정을 실시간으로 확인할 수 있는 로그 시스템이 추가되었습니다.

**주요 기능:**
- Server-Sent Events (SSE) 기반 실시간 스트리밍
- 로그 레벨별 색상 구분 (Debug, Info, Warn, Error)
- 필터링 기능 (체크박스로 레벨 선택)
- 일시정지/재개 제어
- 최대 5000개 로그 메모리 보관
- 파일 저장 (`logs/gui-server.log`)

**파일:**
```
V1/
├── logger.js              # 로거 모듈
└── logs/
    └── gui-server.log     # 로그 파일
```

#### 3. 🖥️ GUI 개선
기존 GUI에 새로운 탭 2개가 추가되었습니다.

**추가된 탭:**
1. **L1 데이터 수집**:
   - 원클릭 L1 프로세스 실행
   - 처리 단계 안내
   - 결과 요약 (매장 수, 완성도, 처리 시간)
   - 완성도 분포 차트 (HIGH/MEDIUM/LOW)
   - 상세 결과 JSON 뷰어

2. **디버그 로그**:
   - 실시간 로그 스트리밍
   - 로그 레벨별 필터링
   - 일시정지/재개 버튼
   - 로그 지우기 기능
   - 자동 스크롤

### 📝 사용법

#### GUI에서 L1 실행
```bash
# 서버 시작
cd Place_Crawler/V1
node gui-server.js

# 브라우저에서 접속
http://localhost:3000

# GUI 사용
1. "L1 데이터 수집" 탭 클릭
2. "L1 처리 시작" 버튼 클릭
3. "디버그 로그" 탭에서 진행 상황 확인
4. 완료 후 결과 확인
```

#### 입력 데이터 준비
L1 처리를 위해 다음 파일들을 준비하세요:

**필수:**
- `places-advanced/*.json` (크롤러로 수집한 데이터)

**권장:**
- `data/input/current_keywords.json` (현재 사용 중인 키워드)

**선택:**
- `data/input/manual_notes.json` (수동 메모)
- `data/input/competitors.json` (경쟁사 정보)

### 🔧 기술 스택

- **백엔드**: Node.js + HTTP Server
- **로그**: Custom Logger with SSE
- **데이터 처리**: JSON 파싱 및 변환
- **프론트엔드**: Vanilla JavaScript + EventSource

### 📊 성능

- 매장당 처리 시간: ~0.3초
- 10개 매장 기준: 3~5초
- 메모리 사용량: ~50MB
- 로그 스트리밍: 실시간 (지연 < 100ms)

### 🐛 알려진 이슈

없음 (새로 추가된 기능)

### 🚧 향후 계획

- **L2 모듈**: AI 기반 키워드 확장
- **L3 모듈**: 네이버 월간 검색량 조회
- **L4 모듈**: 최종 대표키워드 추천
- **배치 모드**: 대량 데이터 자동 처리
- **CLI 지원**: 커맨드라인 인터페이스

### 📚 관련 문서

- `L1-사용법.md`: L1 모듈 상세 가이드
- `Doc/l1.md`: L1 설계 문서 (원본)
- `GUI-사용법.md`: GUI 사용 가이드

### 🔄 호환성

- Node.js 14 이상
- 최신 브라우저 (Chrome, Edge, Firefox)
- 기존 크롤러 데이터와 100% 호환

### ⚡ 빠른 시작

```bash
# 1. 의존성 설치 (최초 1회)
npm install

# 2. 플레이스 데이터 수집
node gui-server.js
# 브라우저에서 http://localhost:3000
# "단일 수집" 또는 "배치 수집"으로 데이터 수집

# 3. L1 처리
# "L1 데이터 수집" 탭에서 "L1 처리 시작" 클릭

# 4. 결과 확인
# data/output/l1/ 폴더의 JSON 파일들 확인
```

### 💡 팁

1. **데이터 품질 향상**:
   - 현재 키워드 파일 준비하면 성능 비교 가능
   - 수동 메모 작성하면 완성도 점수 향상

2. **로그 활용**:
   - "디버그 로그" 탭에서 실시간 진행 확인
   - 오류 발생 시 로그 파일 저장 후 분석

3. **대량 처리**:
   - 먼저 "배치 수집"으로 여러 매장 데이터 수집
   - L1 처리로 일괄 분석

### 🙏 기여

개선 사항이나 버그 리포트는 이슈로 등록해주세요.

---

**버전**: 1.1.0
**날짜**: 2025-10-22
**작성자**: Claude Code
